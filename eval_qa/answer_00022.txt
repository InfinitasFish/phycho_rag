Not everything needs to have an evolutionary advantage, it just needs to not be a hindrance to surviving long enough to reproduce or a hindrance to finding reproductive mates. There's lots of things that aren't ideal in the human body and human pathology. The human birth canal and disproportionate size of the infant head causes all kinds of complications, some deadly, but there's no evolutionary pressure to improve if at least the majority of women can get one living infant out, even at the cost of her own life, and the size of the brain that causes so many problems in the birthing process leads to greater success of the species overall. The advent of medical care just reduced that pressure further. Further, genes can have multiple effects, and something advantageous to survival and/or reproduction can also have a negative effect on quality of life. For example, sickle cell anemia is problematic but also offers a more immediate survival advantage in protecting against malaria.
Evolution has no purpose, it's just a consequence of how species reproduce and how genetic material combines and mutates. For something as concealable as depression that doesn't risk death during prime reproductive years outside of killing oneself, it might as well not exist in the equation at all.
